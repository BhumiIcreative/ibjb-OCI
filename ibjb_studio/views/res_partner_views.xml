<?xml version="1.0" encoding="UTF-8" ?>
<odoo>
    <!--Inherited the existing kanban view for res partner-->
    <record id="res_partner_kanban_view" model="ir.ui.view">
        <field name="name">res.partner.kanban.inherit</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.res_partner_kanban_view"/>
        <field name="arch" type="xml">
            <xpath expr="//div[hasclass('oe_kanban_partner_categories')]//field[@name='category_id']" position="after">
                <field name="customer_code"/>
            </xpath>
        </field>
    </record>
    <!--Inherited the existing search view for res partner-->
    <record id="res_partner_view_search_inherit" model="ir.ui.view">
        <field name="name">res.partner.view.search.inherit</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_res_partner_filter"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='category_id']" position="after">
                <field name="customer_code"/>
                <field name="create_date"/>
                <field name="city"/>
                <field name="property_product_pricelist"/>
            </xpath>
        </field>
    </record>
    <!--Inherited the existing tree view for res partner-->
    <record id="inherit_view_partner_tree" model="ir.ui.view">
        <field name="name">view.res.partner.tree.inherit</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_tree"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='display_name']" position="before">
                <field name="company_type"/>
                <field name="type"/>
                <field name="customer_code"/>
            </xpath>
            <xpath expr="//field[@name='display_name']" position="after">
                <field name="is_suivi_1"/>
                <field name="is_sensible_2"/>
                <field name="street" string="Adresse"/>
                <field name="street2" string="Complément"/>
                <field name="zip" string="Code Postal"/>
            </xpath>
            <xpath expr="//field[@name='email']" position="after">
                <field name="property_product_pricelist"/>
                <field name="create_date"/>
                <field name="create_uid"/>
                <field name="write_uid"/>
            </xpath>
        </field>
    </record>
    <!--Inherited the existing form view for res partner-->
    <record id="inherit_view_partner_form" model="ir.ui.view">
        <field name="name">inherit.view.partner.form</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">
            <xpath expr="//button[@name='action_open_employees']" position="after">
                <button class="oe_stat_button" icon="fa-cube" type="action"
                        name="%(action_equipement_by_maintenance_equipment)d">
                    <field name="proprietaire_maintenance_equipment_count" string="Equipement"
                           widget="statinfo"/>
                </button>
                <button class="oe_stat_button" icon="fa-briefcase" type="action" name="%(action_maintenance_request)d">
                    <field name="maintenance_contact_maintenance_request_count" string="Maintenance"
                           widget="statinfo"/>
                </button>
                <button class="oe_stat_button" icon="fa-cubes" type="action" name="%(action_product_supplierinfo)d">
                    <field name="name_product_supplierinfo_count" string="Prix fournisseur"
                           widget="statinfo"/>
                </button>
                <button class="oe_stat_button" icon="fa-file-o" type="action"
                        name="%(action_price_list)d">
                    <field name="oci_listprice_nomclient_product_pricelist_count" string="Price list"
                           widget="statinfo"/>
                </button>
            </xpath>
            <xpath expr="//field[@name='name']" position="attributes">
                <attribute name="placeholder">LAST NAME First Name or Site Name</attribute>
                <attribute name="string">LAST NAME First Name or Site Name</attribute>
            </xpath>
            <xpath expr="//field[@id='individual']" position="attributes">
                <attribute name="placeholder">LAST NAME First Name or Site Name</attribute>
                <attribute name="string">LAST NAME First Name or Site Name</attribute>
            </xpath>
            <xpath expr="//field[@name='parent_id']" position="attributes">
                <attribute name="invisible">is_company == True or parent_id == False and company_name != ('False','')
                </attribute>
                <attribute name="placeholder">Parent Company</attribute>
            </xpath>
            <xpath expr="//field[@name='type']" position="attributes">
                <attribute name="required">not parent_id</attribute>
            </xpath>
            <xpath expr="//field[@name='street']" position="attributes">
                <attribute name="readonly"/>
            </xpath>
            <xpath expr="//field[@name='street2']" position="attributes">
                <attribute name="readonly"/>
            </xpath>
            <xpath expr="//field[@name='city']" position="attributes">
                <attribute name="readonly"/>
            </xpath>
            <xpath expr="//field[@name='state_id']" position="attributes">
                <attribute name="readonly"/>
            </xpath>
            <xpath expr="//field[@name='zip']" position="attributes">
                <attribute name="readonly"/>
            </xpath>
            <xpath expr="//field[@name='country_id']" position="attributes">
                <attribute name="required">is_company</attribute>
            </xpath>
            <xpath expr="//field[@name='vat']" position="attributes">
                <attribute name="required">0</attribute>
                <attribute name="readonly">not parent_id</attribute>
            </xpath>
            <xpath expr="//group[1]/group" position="inside">
                <field name="tva_msg_europe" style="color: red;"
                       help="Affiche un message quand il s'agit d'un pays d'Europe"
                       invisible="country_id == False or is_company == False or country_id == 75 or not vat"/>
                <field name="country_group_ids_name" groups="base.group_no_one"/>
                <field name="customer_code" required="1"/>
                <field name="regroupement_id" invisible="company_type == 'company'"/>
                <field name="role_contact_id" invisible="company_type == 'company'"/>
                <field name="center_interest_id" invisible="company_type == 'company'"/>
                <field name="service_id" invisible="company_type == 'company'"/>
                <field name="facebook"/>
                <field name="linkedin" widget="url"/>
                <field name="skype" invisible="company_type == 'company'"/>
                <field name="precision_phone" invisible="company_type == 'company'"/>
                <field name="fax"/>
            </xpath>
            <xpath expr="//field[@name='title']" position="attributes">
                <attribute name="string">Titre</attribute>
            </xpath>
            <xpath expr="//field[@name='child_ids']/form[1]//field[@name='name']" position="after">
                <field name="customer_contact"/>
            </xpath>
            <xpath expr="//field[@name='child_ids']/form[1]//field[@name='comment']" position="after">
                <field name="field_aD1p5"/>
            </xpath>
            <xpath expr="//page[@name='sales_purchases']/group[@name='container_row_2']//field[@name='user_id']"
                   position="attributes">
                <attribute name="string">Contact IBJB</attribute>
            </xpath>
            <xpath expr="//form[1]/sheet[1]/notebook[1]/page[@name='sales_purchases']/group[@name='container_row_2']/group[@name='sale']/field[@name='property_delivery_carrier_id']"
                   position="attributes">
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='property_payment_term_id']" position="after">
                <field name="oci_contact_transporteur"/>
            </xpath>
            <xpath expr="//field[@name='property_product_pricelist']" position="attributes">
                <attribute name="groups"/>
            </xpath>
            <xpath expr="//group[@name='purchase']/field[@name='property_supplier_payment_term_id']" position="before">
                <field name="prestataire_maintenance"/>
                <field name="est_un_distributeur"/>
                <field name="is_suivi_1"/>
                <field name="is_sensible_2"/>
            </xpath>
            <xpath expr="//group[@name='purchase']" position="inside">
                <field name="code_affaire_id"/>
            </xpath>
            <xpath expr="//field[@name='ref']" position="attributes">
                <attribute name="store"/>
                <attribute name="invisible">1</attribute>
            </xpath>
            <xpath expr="//field[@name='industry_id']" position="after">
                <field name="code_naf_id"/>
            </xpath>
            <xpath expr="//field[@name='property_account_payable_id']" position="after">
                <field name="categorie_comptable_id"/>
            </xpath>
            <xpath expr="//form[1]/sheet[1]/notebook[1]" position="inside">
                <page name="page_dyhW5" string="RGPD">
                    <group name="group_dyhW5">
                        <group name="group_dyhW5_left">
                            <field name="is_oci_contact_constt"/>
                            <field name="is_oci_contact_consanonyme"/>
                            <field name="is_oci_contact_pasconsentement"/>
                            <field name="oci_contact_commentaire"/>
                        </group>
                    </group>
                </page>
                <page name="studio_page_EeqkS" string="Compléments">
                    <group name="studio_group_EeqkS">
                        <group name="studio_group_EeqkS_left">
                            <field name="chorus"/>
                            <field name="field_BVkbJ_ids" string="Gamme">
                                <tree string="oci_ticket_gamme">
                                    <field name="name"/>
                                </tree>
                            </field>
                            <field name="equipements_cmf_ids"/>
                        </group>
                        <group name="studio_group_EeqkS_right">
                            <field name="field_LTJb8_ids" string="Equipements IH"/>
                            <field name="equipements_bm_ids"/>
                        </group>
                    </group>
                </page>
            </xpath>
        </field>
    </record>
    <!--Inherited the existing filter view for res partner-->
    <record id="inherit_customer_statements_tree_view" model="ir.ui.view">
        <field name="name">view.purchase.order.filter.inherit</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="account_followup.customer_statements_tree_view"/>
        <field name="arch" type="xml">
            <xpath expr="//field[@name='followup_status']" position="after">
                <field name="comment"/>
            </xpath>
        </field>
    </record>

    <!-- Add a new submenu under the contacts configuration menu -->
    <record id="res_partner_gamme_menu" model="ir.ui.menu">
        <field name="name">Gamme</field>
        <field name="parent_id" ref="contacts.res_partner_menu_config"/>
        <field name="action" ref="action_helpdesk_source"/> <!-- Add the appropriate action -->
        <field name="sequence">5</field>
    </record>
</odoo>
